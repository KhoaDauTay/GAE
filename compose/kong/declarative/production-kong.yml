_format_version: "2.1"
_transform: true


# Config Consumers and JWT for consumers

consumers:
- username: gmm

jwt_secrets:
- consumer: gmm
  algorithm: RS256
  key: GAE
  rsa_public_key: "-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1MtRnSG0FT5BvJWjrieH\nesissdmUVsxal/p8s+2AiV+TtxI2R6PGnFMMOsz1s3/Xs5cMdYml1voKowHNF0+x\nhMO63vh+VfQOOI4TLAQMAMJgacftWEuuj7PbZfER6hu4xtKhJyMxISKrhEkMhkNb\nr652clLP+elWjiHNnk5J6rzyj7WZmjeQIZafRtWkPhlOxlHJV/8iaIZwZ/igvAhh\nr8Hls0b6E5Y4BA1oCMhelSffUj/aGAQwAagUkRhY6SMJ00oMfk4WAXLLcAtPHMeG\nvRxMHawBddSr4ozNdqtVjNrWfK18r4o8sAc709rtdGdwLUlBgQQTovFc985A4rQ3\nOdVz0O0umT0WygSyOfnQPIea/ixuekYUl4O5uQie8WErh1STEYPZk0I0Rt5/fwYX\n6R5uHIIhU5M3GQXQoy8gnWzDhyeNnkxPT04a6QhdXMOPA+8ORcKtXONpgZMLZBAP\nK8egK6LxfRxLJ5vtnGbzgnZj7J5MiizsZDn3b80R8pltynEkKiPmALuVbuz6iEie\nON8TDCSI5R0VLr1AJXfjDJD7bS6WaIaB31HHfUtEZImD88VzgddqNBLcwy28IUBF\nwnoyjZPwlxQxJaOqBecR7zZrHYRHK0MjV9PHJB3X+m0R7JWpxhjjhdbuiANV3xNg\ngI7Qy8bSZgHl4DE5OdxheWsCAwEAAQ==\n-----END PUBLIC KEY-----\n%"

plugins:
- name: jwt
  enabled: yes
  service: api-service
  config:
    secret_is_base64: false
    header_names: ["Authorization"]
    key_claim_name: iss
    run_on_preflight: true
    claims_to_verify:
      - exp

- name: rate-limiting
  config:
    second: 5
    hour: 10000
    policy: local
    fault_tolerant: true
    hide_client_headers: false
    redis_ssl: false
    redis_ssl_verify: false

# Config for Proxy cache request
- name: proxy-cache
  config:
    response_code:
    - 200
    request_method:
    - GET
    - HEAD
    content_type:
    - text/plain
    - application/json
    cache_ttl: 300
    strategy: memory

# Config Services v√† Routes
certificates:
  - cert: "-----BEGIN CERTIFICATE-----\nMIIEFTCCAv2gAwIBAgIUB0CX47kEg55BcnKMOPyZ1G42i9IwDQYJKoZIhvcNAQEL\nBQAwgagxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQH\nEw1TYW4gRnJhbmNpc2NvMRkwFwYDVQQKExBDbG91ZGZsYXJlLCBJbmMuMRswGQYD\nVQQLExJ3d3cuY2xvdWRmbGFyZS5jb20xNDAyBgNVBAMTK01hbmFnZWQgQ0EgYjJj\nYTA3Yzk1ZjVhZWI0YTcxNmFhZTBkMmE1MGFmMzMwHhcNMjIwMzA4MTAwODAwWhcN\nMzcwMzA0MTAwODAwWjAiMQswCQYDVQQGEwJVUzETMBEGA1UEAxMKQ2xvdWRmbGFy\nZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMsjryjDqlaDLdL/DaQ8\nAVC8bu43/fargKAClZ4kd9ZxL9V3PNWb2GOCyq8/uM0ERO+Uj65z3V+luCvaflly\ngLVsD+1JmdJbUCWnNCwpIG0jQkPmeprK3fdiM5ZCH0vup45lUHlirDKJeVzPLa0U\npZulR/dQYfis/g9OCNpswi2Enl3cRoQRnbUfLuhaZ6qgQGaEJKRfXtO2GAV4+Sdu\nMmRzoRrsmbcOcNzy3WZUzGzoq0Un7iSGGhw9vwdgscX1Wex3Vh536XFtcUX02SDN\naPZGBfsa3TO7JNlqbNUwujadFYKpulxmoZuuMnzy2jpnxPfkUIc32FJ15Zod+rbB\nqCUCAwEAAaOBuzCBuDATBgNVHSUEDDAKBggrBgEFBQcDAjAMBgNVHRMBAf8EAjAA\nMB0GA1UdDgQWBBSrxgnDsflRmUIqYCKo53LOEzMGOzAfBgNVHSMEGDAWgBRj68TB\nvTscgRBry31ZoWqZt0/4hDBTBgNVHR8ETDBKMEigRqBEhkJodHRwOi8vY3JsLmNs\nb3VkZmxhcmUuY29tLzllN2I5Y2Q2LTM1NmUtNDBkOS04ZWJlLWY3NzU4NDRkMmIz\nYy5jcmwwDQYJKoZIhvcNAQELBQADggEBABeazE17cx73QTEoQJzBovcWT3uQ3Asx\nyGI0O44c+4yt099A6A7hLg5KwhJKaR0dN0mqkfoeYhlnktg88X96WVrgsc7iVs18\nJib1sgPyZNQEp8rZWorCCcPwy4UAViJJZ17KMM+BdJ3QiUuzzXLngg/X2cPD2eVw\n6cs7Ux36XdFEQEoe/ksAv9cZU/FEsJg8MkmC0ZZYUZIUy4npPo1s1GLjTjUlECmL\nnqdNQd8gNn6shCpHAbreDYpVBWo55uluztfhH+zPzXRbSji107zLNRX36/Pvl6Qi\nb0DLUOCwMFq5wzfuBNwybrWpMTmRBgVeEK/alI3Vc19jSAP4TCnnSAo=\n-----END CERTIFICATE-----\n"
    key: "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDLI68ow6pWgy3S\n/w2kPAFQvG7uN/32q4CgApWeJHfWcS/VdzzVm9hjgsqvP7jNBETvlI+uc91fpbgr\n2n5ZcoC1bA/tSZnSW1AlpzQsKSBtI0JD5nqayt33YjOWQh9L7qeOZVB5YqwyiXlc\nzy2tFKWbpUf3UGH4rP4PTgjabMIthJ5d3EaEEZ21Hy7oWmeqoEBmhCSkX17TthgF\nePknbjJkc6Ea7Jm3DnDc8t1mVMxs6KtFJ+4khhocPb8HYLHF9Vnsd1Yed+lxbXFF\n9NkgzWj2RgX7Gt0zuyTZamzVMLo2nRWCqbpcZqGbrjJ88to6Z8T35FCHN9hSdeWa\nHfq2waglAgMBAAECggEAIILE2mimRFOY6+Hh/weTdlESDTzCKnjm4bTy2RfLuMhD\nTY4DGx9mvFZcYJEkNGZF2h9pTL7tDmJpXVYJ+VV3/+ZxjhpvbIPXXzn+rD/7bpFs\nCONEJViTua8/w6vax75EQWfkPz5pghUPv/4bDfj19Y5i5tPjOiIFmdF1XUUhYUNE\n84+54qBSZz8zpOF64v8p3ENDKpNUdYGLFelM2l7juVpPzERhd5lFJpQpyqEvlCKT\naQM++M9wu8V2fSrN4wPN6pHw5XFdN8H/9TC2VZUy5jlR7EAVXImLi1wA0uGVtUkY\nTYgLFItIN2RoBuqpYlW4ZJJM8Ku+jXgTqQjye9XEqQKBgQD7tmsHB9QYqHe5Gn+W\nQmq8XoiKFR9PPOmXPkynSUk7YBTOalCeWWaVG74rP8pqAxR1XQhXnJPdJcB6GWQt\nUVVBRpXxJOjXm4PiDVb2KUiAL3b/Rsthi3W8Arl/F4cIPMpnXWo/MiLLOTZLBygP\ndUN1AK/o/3ZdxjQHsNYUr2cODwKBgQDOmXcBXkeEkmIa/Z3nLtnFrz43kUnQmQtU\nSefMSVj3ZtQc12VyOtljDmHXIfXvJWtu2dIrHwzFmQ2sOOKetLn6UzEne8YI+Qd1\nCzPr9TQofmUgoqfc+nw+GpIbHepPtQYLEr0hl536vCylbjWGpj9vfiTUBXxHT884\n/QkzJyiaiwKBgEo3F8lj4oI+scYO7Q1lmcjeao2j+q5HPGxOfxVXw1LRWnEd4ZU+\nsMNIAcMItOqa695KxtnmHaa3qc+WSvYdo/ByGmWWR1zCypjM7BX6SBkbZY+Q1Qh2\nsQj1GLJDQpoIKnldjqUBaEbZIIvwmTwti+0kfblKESFG/jJCTmyc5tq7AoGBAMn4\nw5ul1JrpFFm4mNa6OZGF2XgvZA82nxm+yoovJnduomyzsmwy1fR9ye6sN6acWWPc\nNBeN2kmOcAxu7DUlDy+GhuZHnXmGIuEsm4zQgTYZIrn96cchZba8+Rrjav6TRR4s\nKpOdiobl0WvEyzUgb6GKm2xfFHkOr9HRpV3JqWszAoGANHEU9XlDtySISFcUd1+D\n0Lh/Cn1JI7gc9f6EXrop+qDRlTEZT4C/vZlqRsch9IYourrfOe+50zd9bz1nNvnD\nlXNs8RAOZfo8sWfHQJ3uKCi8e8PXnG3jScoqLkYAlmGKyCVO6QH6l2tiJ9epOtgp\nOeOxfLe8XmjknygUvIGXG5s=\n-----END PRIVATE KEY-----\n"
    snis:
      - name: gae-gw.systems
services:
- name: api-service
  host: gae-gw.systems
  port: 443
  connect_timeout: 60000
  protocol: https
  read_timeout: 60000
  retries: 5
  write_timeout: 60000
  routes:
    - name: api-route
      methods:
      - GET
      - POST
      - PUT
      - DELETE
      - PATCH
      paths:
        - /api
      protocols:
      - https
      regex_priority: 0
      strip_path: false
      preserve_host: false
