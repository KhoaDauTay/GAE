_format_version: "2.1"
_transform: true


# Config Consumers and JWT for consumers

consumers:
- username: gmm

jwt_secrets:
- consumer: gmm
  algorithm: RS256
  key: GAE
  rsa_public_key: "-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1MtRnSG0FT5BvJWjrieH\nesissdmUVsxal/p8s+2AiV+TtxI2R6PGnFMMOsz1s3/Xs5cMdYml1voKowHNF0+x\nhMO63vh+VfQOOI4TLAQMAMJgacftWEuuj7PbZfER6hu4xtKhJyMxISKrhEkMhkNb\nr652clLP+elWjiHNnk5J6rzyj7WZmjeQIZafRtWkPhlOxlHJV/8iaIZwZ/igvAhh\nr8Hls0b6E5Y4BA1oCMhelSffUj/aGAQwAagUkRhY6SMJ00oMfk4WAXLLcAtPHMeG\nvRxMHawBddSr4ozNdqtVjNrWfK18r4o8sAc709rtdGdwLUlBgQQTovFc985A4rQ3\nOdVz0O0umT0WygSyOfnQPIea/ixuekYUl4O5uQie8WErh1STEYPZk0I0Rt5/fwYX\n6R5uHIIhU5M3GQXQoy8gnWzDhyeNnkxPT04a6QhdXMOPA+8ORcKtXONpgZMLZBAP\nK8egK6LxfRxLJ5vtnGbzgnZj7J5MiizsZDn3b80R8pltynEkKiPmALuVbuz6iEie\nON8TDCSI5R0VLr1AJXfjDJD7bS6WaIaB31HHfUtEZImD88VzgddqNBLcwy28IUBF\nwnoyjZPwlxQxJaOqBecR7zZrHYRHK0MjV9PHJB3X+m0R7JWpxhjjhdbuiANV3xNg\ngI7Qy8bSZgHl4DE5OdxheWsCAwEAAQ==\n-----END PUBLIC KEY-----\n%"

plugins:
- name: jwt
  enabled: yes
  service: api-service
  config:
    secret_is_base64: false
    header_names: ["Authorization"]
    key_claim_name: iss
    run_on_preflight: true
    claims_to_verify:
      - exp

- name: rate-limiting
  config:
    second: 5
    hour: 10000
    policy: local
    fault_tolerant: true
    hide_client_headers: false
    redis_ssl: false
    redis_ssl_verify: false

# Config for Proxy cache request
- name: proxy-cache
  config:
    response_code:
    - 200
    request_method:
    - GET
    - HEAD
    content_type:
    - text/plain
    - application/json
    cache_ttl: 300
    strategy: memory

# Config Services v√† Routes
certificates:
  - snis:
      - name: gae-gw.systems
  key: "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCgT+Ey49Nvy2fx\n7M5soxvieVSoCw6Y8HtFZlWeYFzhKhK9nz3sUFJbVH+ad876a9keu/+7Q3hL4LBW\nmUhuKiFMzUs6BtKirFuPYO94OupY1IK9y3v07MhUMwm+UZSirsby6BYmLLh2xeTp\nHgvbAROQ4uigNxn/3QW9xJE1D/QGb2kItl5mSxlD8vesQyTc5x7rL97pUz7wJYAE\nbQwJChmwmaRFRRQj8v8xMIbn07QDl+4q0O+QPz8SDLktjZaG0hSkMEC8UzaT+TOy\nIFx1ie3L0ia6aJHFOGqKbK1XtUtyhrGJwy7E6Tqdad4vmioHzUjZ9qvH7eKozEJT\n0qHBqyhVAgMBAAECggEAAKE/t8T4ZDSO5H7zMq8TYXjrkbt1Y7lyKowj4vrq8oGJ\nUFBrXF3WbQBwfelhmU9KK5o+f3xc4SNxXe29QJ2Owu/9jy1Or4/wzifp2PWWTSIM\nn3VIt+YkRVxr+eD1Lgx0wKiTybOcR+8wHpBdKI+hBY02r8Z3pi82og+/KE+3PD07\nOzgcCP0ciIu/nT904EZ8oxvITIUmpxu1zhgAOTmNO3nHen53wV7pxWFecUNQ5wAc\nCxZVmiMkOXSowl5qtVwXq9pL25J9BEfLRvTIw62TOOwl/f1Pv253ttHHv2dBl/VZ\nyKFVqRM8PhQAW8+nLJA+7QBjgm6oGgGFqBaEQfoEYQKBgQDQUaO2nQVHhZWJxDdg\n6wxpiNha9UOUsJlwU1oCjEr0WY9Lfkg5sR6Gw+WY43q4ZhxHRTZc6Pa89I/omV+Q\nn3BDrBLDO5MrAnUAAza7qMGjwOZO0D6CgWlHVUEIG+uHGs/ULGbl8UtwbngsEI+6\npze2xUvb+3h9FtwBS9yY++PuEQKBgQDFAUwQkvHKIYCQNYVtt9TUmxb8cd/F09C+\n3IOPefzTylpsY5+majZBdJwhlT16jg+9kTh1Wn1WRl1I2JpPseUEOUQNyfmecGZR\nwb2qSDg7oSuONWtwc8/8pYSOrpyI+dH2vC/BNiSuiC1ovRpbR0/9NKpNvWF6yH7B\nqtVhQsViBQKBgQDOSnpHxVjMCdIa2k9Iz5q8C4LNGCIzZWqdHD1/VnSHYwUO6mAV\nmXs0U1vTOjl1z9BjF3wNJ7nnRnwYB4HmUq02pnjyEtXa+pToTUZvMV+IjObE111/\nmS2rMRa0NAnaAcgbQVkojfl5vjuMz121pg/7E4fasT0RCokVU42BhbeiMQKBgG4V\nTHjSc7O8RsfOcHGf0JjA1PZZd25m7vVH6WfqBYIfR6nbfWGTZh/rVjdZ2pG6Akeu\ndzr0RqdICGZlSs0PneZfTYza+NY0/qfet+oIEwwXAmyjoxaiUG1f3BOStLvBxTa3\nb4PqilLQm3c0fB7XWXYm0KdCFM90a4gyuqtvkTY1AoGAGWVXr8zx69qBYKoGFOUZ\notYOKmfv3tZRpyKLHMXyeNyu9tyHWyTBWAy1yGhk4zdF408M6EZYldyD7z7L1Qlp\nCZTDwN71Hb72uSInm8YUuCsOBMzuYAd+n+Gk71LxiYYYHJqzouiTX9naVAknFSrT\n7RJ/9iZwmXaBz0WvpbDiz2M=\n-----END PRIVATE KEY-----\n"
  cert: "-----BEGIN CERTIFICATE-----\nMIIEqDCCA5CgAwIBAgIUChl0SXxKn0/RdfCHtLnFJY1uE2AwDQYJKoZIhvcNAQEL\nBQAwgYsxCzAJBgNVBAYTAlVTMRkwFwYDVQQKExBDbG91ZEZsYXJlLCBJbmMuMTQw\nMgYDVQQLEytDbG91ZEZsYXJlIE9yaWdpbiBTU0wgQ2VydGlmaWNhdGUgQXV0aG9y\naXR5MRYwFAYDVQQHEw1TYW4gRnJhbmNpc2NvMRMwEQYDVQQIEwpDYWxpZm9ybmlh\nMB4XDTIyMDMwODEwMDMwMFoXDTM3MDMwNDEwMDMwMFowYjEZMBcGA1UEChMQQ2xv\ndWRGbGFyZSwgSW5jLjEdMBsGA1UECxMUQ2xvdWRGbGFyZSBPcmlnaW4gQ0ExJjAk\nBgNVBAMTHUNsb3VkRmxhcmUgT3JpZ2luIENlcnRpZmljYXRlMIIBIjANBgkqhkiG\n9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoE/hMuPTb8tn8ezObKMb4nlUqAsOmPB7RWZV\nnmBc4SoSvZ897FBSW1R/mnfO+mvZHrv/u0N4S+CwVplIbiohTM1LOgbSoqxbj2Dv\neDrqWNSCvct79OzIVDMJvlGUoq7G8ugWJiy4dsXk6R4L2wETkOLooDcZ/90FvcSR\nNQ/0Bm9pCLZeZksZQ/L3rEMk3Oce6y/e6VM+8CWABG0MCQoZsJmkRUUUI/L/MTCG\n59O0A5fuKtDvkD8/Egy5LY2WhtIUpDBAvFM2k/kzsiBcdYnty9ImumiRxThqimyt\nV7VLcoaxicMuxOk6nWneL5oqB81I2farx+3iqMxCU9KhwasoVQIDAQABo4IBKjCC\nASYwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcD\nATAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBQ0on1luLL9KHEO9Iw3AAXX/NkLdTAf\nBgNVHSMEGDAWgBQk6FNXXXw0QIep65TbuuEWePwppDBABggrBgEFBQcBAQQ0MDIw\nMAYIKwYBBQUHMAGGJGh0dHA6Ly9vY3NwLmNsb3VkZmxhcmUuY29tL29yaWdpbl9j\nYTArBgNVHREEJDAighAqLmdhZS1ndy5zeXN0ZW1zgg5nYWUtZ3cuc3lzdGVtczA4\nBgNVHR8EMTAvMC2gK6AphidodHRwOi8vY3JsLmNsb3VkZmxhcmUuY29tL29yaWdp\nbl9jYS5jcmwwDQYJKoZIhvcNAQELBQADggEBAIkbFuX2PXFSaRAJB2X80vJMwWgp\nLWqJhC6kGin0y7/bVNpjJBTLq8XbuinHl+Ukbi+xlYseKgB3Pwx/BVnLFLLk7iVw\n004X+YN8pt8SjioxyfRweAkjLbMvzZyjMdlTFg5J8o6kREHDYep0nxDqvcDOVg+8\nu8myPJbLuwTPLcZ7jAwwhz4FpkUl5CVkpfdc3FvAjDcarEfCZLqpTmHqGuSLjL2w\nSBb+cRypdcQ/0yf8ZXEpObeEzLrQa7b39Qnd3/0qFIVyVnUUNq+PgUXCpplSIocD\nW35DzPBC7rvpyY7oIRU5l9KoIZ7Oj3/u0leVnB0m7pEsGRIdnkHCybRhaxw=\n-----END CERTIFICATE-----\n"
services:
- name: api-service
  host: gae-gw.systems
  port: 443
  connect_timeout: 60000
  protocol: https
  read_timeout: 60000
  retries: 5
  write_timeout: 60000
  routes:
    - name: api-route
      methods:
      - GET
      - POST
      - PUT
      - DELETE
      - PATCH
      paths:
        - /api
      protocols:
      - https
      regex_priority: 0
      strip_path: false
      preserve_host: false
